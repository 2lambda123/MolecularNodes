<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Molecular Nodes – changelog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Molecular Nodes</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Molecular Nodes</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/BradyAJohnston/MolecularNodes" title="" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="https://twitter.com/bradyajohnston" title="" class="sidebar-tool px-1"><i class="bi bi-twitter"></i></a>
    <a href="https://youtube.com/c/bradyjohnston" title="" class="sidebar-tool px-1"><i class="bi bi-youtube"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Home</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./installation.html" class="sidebar-item-text sidebar-link">Installation</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getting-started.html" class="sidebar-item-text sidebar-link">Getting Started</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./examples.html" class="sidebar-item-text sidebar-link">Examples</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./documentation.html" class="sidebar-item-text sidebar-link">Documentation</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./changelog.html" class="sidebar-item-text sidebar-link active">Changelog</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#changelog" id="toc-changelog" class="nav-link active" data-scroll-target="#changelog">Changelog</a>
  <ul class="collapse">
  <li><a href="#unreleased" id="toc-unreleased" class="nav-link" data-scroll-target="#unreleased">[unreleased]</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section">[2.2.2] - 2023-01-06</a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1">[2.2.1] - 2023-01-05</a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2">[2.2.0] - 2023-01-03</a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3">[2.1.0] - 2023-01-01</a></li>
  <li><a href="#section-4" id="toc-section-4" class="nav-link" data-scroll-target="#section-4">[2.0.2] - 2022-12-13</a></li>
  <li><a href="#section-5" id="toc-section-5" class="nav-link" data-scroll-target="#section-5">[2.0.1] - 2022-12-13</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="changelog" class="level1">
<h1>Changelog</h1>
<p>All notable changes to this project will be documented in this file.</p>
<p>The format is based on <a href="https://keepachangelog.com/en/1.0.0/">Keep a Changelog</a>, and this project adheres to <a href="https://semver.org/spec/v2.0.0.html">Semantic Versioning</a>.</p>
<section id="unreleased" class="level2">
<h2 class="anchored" data-anchor-id="unreleased">[unreleased]</h2>
<section id="added" class="level3">
<h3 class="anchored" data-anchor-id="added">Added</h3>
<ul>
<li>Panel for adding multiple selection strings, which will become boolean attributes on the imported model when importing via MDAnalysis.</li>
</ul>
</section>
<section id="fixed" class="level3">
<h3 class="anchored" data-anchor-id="fixed">Fixed</h3>
<ul>
<li>Ball and stick node sphers now support field input for scaling the radius</li>
<li>Error with initial node setup breaking when in non-english Blender UI (<a href="https://github.com/BradyAJohnston/MolecularNodes/pull/139">#139</a>) contributed by <span class="citation" data-cites="YaoYinYing">@YaoYinYing</span></li>
</ul>
</section>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"><a href="https://github.com/BradyAJohnston/MolecularNodes/releases/tag/v2.2.2">[2.2.2]</a> - 2023-01-06</h2>
<section id="added-1" class="level3">
<h3 class="anchored" data-anchor-id="added-1">Added</h3>
</section>
<section id="fixed-1" class="level3">
<h3 class="anchored" data-anchor-id="fixed-1">Fixed</h3>
<ul>
<li>Issue on linux and with newer versions of Numpy where <code>np.bool</code> is deprecated and was erroring on import.</li>
</ul>
</section>
</section>
<section id="section-1" class="level2">
<h2 class="anchored" data-anchor-id="section-1"><a href="https://github.com/BradyAJohnston/MolecularNodes/releases/tag/v2.2.1">[2.2.1]</a> - 2023-01-05</h2>
<section id="added-2" class="level3">
<h3 class="anchored" data-anchor-id="added-2">Added</h3>
<ul>
<li>multi-model <code>b_factor</code> is added when importing from <code>.pdb</code> files via biotite <a href="https://github.com/BradyAJohnston/MolecularNodes/pull/133">#133</a></li>
<li>‘Invert’ field option to atom_properties and other selection nodes to optionally invert the selection</li>
<li>Added better detection of ligands and modifcations (such as sugars) and a separate selection node for them. Currently ligands are stored on the <code>res_name</code> attribute, starting at 100 and incrementing one for each unique ligand.</li>
</ul>
</section>
<section id="fixed-2" class="level3">
<h3 class="anchored" data-anchor-id="fixed-2">Fixed</h3>
<ul>
<li><code>include_bonds</code> option was not being utilised on MD import <a href="https://github.com/BradyAJohnston/MolecularNodes/pull/132">#132</a></li>
<li><code>MOL_animate_res_wiggle</code> was wiggling the <code>OXT</code> (<code>res_name == 38</code>) oxygen when a peptide chain ended. Added additional selection to not wiggle this atom, which should only ever appear when a peptide chain terminates.</li>
<li>fixed import of <code>vdw_radii</code> for elements not supported by biotite (such as Fe) by moving vdw_radii to the data dictionary rather than relying on a function from biotite which had a limited dictionary for vdw_radii lookup</li>
</ul>
</section>
</section>
<section id="section-2" class="level2">
<h2 class="anchored" data-anchor-id="section-2"><a href="https://github.com/BradyAJohnston/MolecularNodes/releases/tag/v2.2.0">[2.2.0]</a> - 2023-01-03</h2>
<section id="added-3" class="level3">
<h3 class="anchored" data-anchor-id="added-3">Added</h3>
<ul>
<li><code>atom_name</code> attribute, which is a numerical representation of the atom name (C, CA, C5 etc)
<ul>
<li>Dicussed in <a href="https://github.com/BradyAJohnston/MolecularNodes/issues/118">#118</a></li>
<li>Allows for more precise selections for new styling and animation nodes</li>
</ul></li>
<li>Reimplemented amino acid ‘wiggle’ node: using the <code>atom_name</code> attribute
<ul>
<li>3x faster with the improved <code>atom_name</code> attribute and refactor of the underlying nodes</li>
</ul></li>
<li>Reimplemented the amino acid to curve node</li>
<li>Ribbon Style Nucleic: A ribbon representation for nucleic acids to complement the ribbon represenation of the proteins from alpha carbons. Enabled now thanks to the <code>atom_name</code> attribute.</li>
<li>Capturing the <code>Index</code> field in the selection node before the selection occurs, and added an <code>Index</code> field input to the <code>MOL_animate_frames</code> node to enable selection to occur before animating between frames, if the <code>Pre-Sel Index</code> field is used in the <code>Index</code> field of the <code>MOL_animate_frames</code> node</li>
<li>Added cutoff field for limiting the interpolation of atoms between frames based on a distance cutoff</li>
<li>Added bonds through MDAnalysis import when a trajectory supports it <a href="https://github.com/BradyAJohnston/MolecularNodes/issues/129">#129</a></li>
<li>Added <code>is_solvent</code>, <code>is_nucleic</code> and <code>is_peptide</code> boolean attributes when importing via MDAnalysis</li>
<li>Added frame-specific attribute <code>occupancy</code> which is added to each frame of the trajectory when imported via MDAnalysis. <a href="https://github.com/BradyAJohnston/MolecularNodes/issues/128">#128</a></li>
</ul>
</section>
<section id="fixed-3" class="level3">
<h3 class="anchored" data-anchor-id="fixed-3">Fixed</h3>
<ul>
<li>Changed naming of <code>MOL_style_atoms</code> to <code>MOL_style_atoms_cycles</code> and <code>MOL_style_ribbon</code> to <code>MOL_style_ribbon_protein</code></li>
</ul>
</section>
</section>
<section id="section-3" class="level2">
<h2 class="anchored" data-anchor-id="section-3"><a href="https://github.com/BradyAJohnston/MolecularNodes/releases/tag/v2.1.0">[2.1.0]</a> - 2023-01-01</h2>
<section id="added-4" class="level3">
<h3 class="anchored" data-anchor-id="added-4">Added</h3>
<ul>
<li><code>CHANGELOG.md</code> for tracking changes to the project</li>
<li>Issue templates for GitHub issues</li>
<li>Proper support for Fields for ribbon width, enabling ‘licorice’ representation amoung others</li>
<li>Tooltips documentation for each of the custom node groups that can be added in Geometry Nodes</li>
<li>More selection nodes for distance, XYZ slice and whole residues.</li>
<li>Custom selections using a string when importing via MDAnalysis <a href="https://github.com/BradyAJohnston/MolecularNodes/pull/123">#123</a></li>
<li>Added option to disable interpolation of atom positions between frames</li>
<li>Added node for animating any field between frames of a trajectory (no fields currently added on import, but used in the new Aniamte Frames backend)</li>
<li>UVs are now available for the ribbon mesh style, idea from <a href="https://github.com/BradyAJohnston/MolecularNodes/issues/77#issuecomment-1273598042">ErikMarklund</a> and implemented by <a href="https://github.com/quellenform/blender-CurveToMeshUV">quellenform</a></li>
</ul>
</section>
<section id="fixed-4" class="level3">
<h3 class="anchored" data-anchor-id="fixed-4">Fixed</h3>
<ul>
<li>Error when defaulting to <code>connect_via_distance()</code> when importing with ‘Find Bonds’ enabled</li>
<li>Adding of a color node which was mis-labelled and couldn’t be added</li>
<li>Non-<code>.gro</code> topology files were failling to add <code>vdw_radii</code> attribute <a href="https://github.com/BradyAJohnston/MolecularNodes/issues/124">#124</a></li>
<li>Remove use of <code>np.int</code> which is now deprecated and was causing errors when <a href="https://github.com/BradyAJohnston/MolecularNodes/issues/108#issuecomment-1365540371">linking python on M1 Mac</a></li>
<li>Attributes now available on ribbon mesh which are <a href="https://github.com/BradyAJohnston/MolecularNodes/issues/77">sampled from backbone</a></li>
<li>Changed starting material to be appended instead of created, which should avoid duplication of material.</li>
</ul>
</section>
</section>
<section id="section-4" class="level2">
<h2 class="anchored" data-anchor-id="section-4"><a href="https://github.com/BradyAJohnston/MolecularNodes/releases/tag/v2.0.2">[2.0.2]</a> - 2022-12-13</h2>
<section id="fixed-5" class="level3">
<h3 class="anchored" data-anchor-id="fixed-5">Fixed</h3>
<ul>
<li>Error on reporting the success of improting a molecule</li>
</ul>
</section>
</section>
<section id="section-5" class="level2">
<h2 class="anchored" data-anchor-id="section-5"><a href="https://github.com/BradyAJohnston/MolecularNodes/releases/tag/v2.0.1">[2.0.1]</a> - 2022-12-13</h2>
<section id="changed" class="level3">
<h3 class="anchored" data-anchor-id="changed">Changed</h3>
<ul>
<li><p>Remove usage of <a href="https://github.com/samirelanduk/atomium">Atomium</a> and switched to <a href="https://github.com/biotite-dev/biotite">Biotite</a> for most internal structural file parsing</p></li>
<li><p>Removed reliance upon <a href="https://blendermarket.com/products/serpens">Serpens</a> to build the addon. Can now be developed by anybody without the requirements of additional Blender addons.</p>
<ul>
<li>Aspects of the addon can now have changes tracked properly by git, rather than inside a binary <code>.blend</code> Serpens file.</li>
<li>Now also allows easier and clearer contributions from others who wish to contribute</li>
<li>Custom node trees still remain opaque to git unfortunately</li>
</ul></li>
<li><p>Attributes are now created and stored on the molecular model itself, removing the need for properties models that store the data XYZ positions. Makes the import process clearer, more robust and more easily expandable.</p></li>
<li><p>Bond information is available by default as edges of the mesh along with bond types</p></li>
<li><p>Improve MDAnalysis installation and usage internally</p></li>
<li><p>Expose operators and functions to Blender Python console to enable user scripting with the addon</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> MolecularNodes <span class="im">as</span> mn</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># to fetch structures from the protein data bank</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>struc_list <span class="op">=</span> [<span class="st">'4ozs'</span>, <span class="st">'1xi4'</span>, <span class="st">'6n2y'</span>]</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> pdb <span class="kw">in</span> struc_list:</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    mn.load.molecule_rcsb(pdb, starting_style <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># to open a local structure file</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>mn.load.molecule_local(<span class="st">'file_path_here.pdb'</span>, <span class="st">'SomeMoleculeName'</span>, starting_style <span class="op">=</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">This site is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</div>   
  </div>
</footer>



</body></html>